<!doctype html><html lang=ko-kr dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Master React performance optimization with our complete guide to useMemo vs useCallback differences. Learn when to use each hook with real-world examples and avoid common pitfalls. "><title>React useMemo vs useCallback: 5 Key Differences Every Developer Must Know</title><link rel=canonical href=https://ctrlcccv.github.io/code-en/2025-06-13-usememo-usecallback/><link rel=stylesheet href=/scss/style.min.f8f2ffa38007b2836bfa74b6d37bb415044d35b7fd34320b4fc7ad572ba1c09c.css><meta property='og:title' content="React useMemo vs useCallback: 5 Key Differences Every Developer Must Know\n"><meta property='og:description' content="Master React performance optimization with our complete guide to useMemo vs useCallback differences. Learn when to use each hook with real-world examples and avoid common pitfalls. "><meta property='og:url' content='https://ctrlcccv.github.io/code-en/2025-06-13-usememo-usecallback/'><meta property='og:site_name' content='컨트롤 + CCCV'><meta property='og:type' content='article'><meta property='article:section' content='Code-En'><meta property='article:tag' content='React Hooks'><meta property='article:tag' content='Performance Optimization'><meta property='article:tag' content='Memoization'><meta property='article:published_time' content='2025-06-13T00:00:00+00:00'><meta property='article:modified_time' content='2025-06-13T00:00:00+00:00'><meta property='og:image' content='https://media.githubusercontent.com/media/ctrlcccv/ctrlcccv.github.io/master/assets/img/post/2025-06-10-usememo-usecallback.webp'><meta name=twitter:title content="React useMemo vs useCallback: 5 Key Differences Every Developer Must Know\n"><meta name=twitter:description content="Master React performance optimization with our complete guide to useMemo vs useCallback differences. Learn when to use each hook with real-world examples and avoid common pitfalls. "><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://media.githubusercontent.com/media/ctrlcccv/ctrlcccv.github.io/master/assets/img/post/2025-06-10-usememo-usecallback.webp'><link rel="shortcut icon" href=/favicon.png><script async src="https://www.googletagmanager.com/gtag/js?id=G-51LVT1KPFF"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-51LVT1KPFF")</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8535540836842352" crossorigin=anonymous></script><script type=text/javascript>(function(e,t,n,s,o,i,a){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},i=t.createElement(s),i.async=1,i.src="https://www.clarity.ms/tag/"+o,a=t.getElementsByTagName(s)[0],a.parentNode.insertBefore(i,a)})(window,document,"clarity","script","rit02y637k")</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"React useMemo vs useCallback: 5 Key Differences Every Developer Must Know\n","datePublished":"2025-06-13T00:00:00Z","dateModified":"2025-06-13T00:00:00Z","author":{"@type":"Person","name":"컨트롤 + CCCV"}}</script><link rel=alternate title="React useMemo vs useCallback 차이점 쉽게 이해하기" href=https://ctrlcccv.github.io/code/2025-06-10-usememo-usecallback/ hreflang=ko><link rel=alternate title="React useMemo vs useCallback: 5 Key Differences Every Developer Must Know" href=https://ctrlcccv.github.io/code-en/2025-06-13-usememo-usecallback/ hreflang=en></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="메뉴 여닫기">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><div class=site-meta><h1 class=site-name><a href=/>컨트롤 + CCCV</a></h1><h2 class=site-description>웹 퍼블리싱 정보 블로그</h2></div></header><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/contact/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Contact</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>다크 모드</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">목차</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#what-is-the-difference-between-usememo-and-usecallback>What is the Difference Between useMemo and useCallback?</a></li><li><a href=#the-5-core-differences-between-usememo-and-usecallback>The 5 Core Differences Between useMemo and useCallback</a><ol><li><a href=#1-what-they-actually-memoize>1. What They Actually Memoize</a></li><li><a href=#2-when-the-computation-happens>2. When the Computation Happens</a></li><li><a href=#3-return-value-behavior>3. Return Value Behavior</a></li><li><a href=#4-memory-and-performance-impact>4. Memory and Performance Impact</a></li><li><a href=#5-real-world-use-case-patterns>5. Real-World Use Case Patterns</a><ol><li><a href=#-common-mistakes-i-used-to-make>❌ Common Mistakes I Used to Make:</a></li><li><a href=#-how-i-use-them-now>✅ How I Use Them Now:</a></li></ol></li></ol></li><li><a href=#when-to-use-usememo-step-by-step-decision-guide>When to Use useMemo: Step-by-Step Decision Guide</a><ol><li><a href=#1-identify-expensive-calculations>1. Identify Expensive Calculations</a></li><li><a href=#2-measure-before-optimizing>2. Measure Before Optimizing</a></li><li><a href=#3-apply-usememo-only-when-beneficial>3. Apply useMemo Only When Beneficial</a></li></ol></li><li><a href=#when-to-use-usecallback-the-complete-strategy>When to Use useCallback: The Complete Strategy</a><ol><li><a href=#1-child-component-optimization-pattern>1. Child Component Optimization Pattern</a></li><li><a href=#2-useeffect-dependency-optimization>2. useEffect Dependency Optimization</a></li><li><a href=#3-custom-hook-optimization>3. Custom Hook Optimization</a></li></ol></li><li><a href=#advanced-optimization-patterns-and-gotchas>Advanced Optimization Patterns and Gotchas</a><ol><li><a href=#dependency-array-management>Dependency Array Management</a></li><li><a href=#object-and-array-dependencies>Object and Array Dependencies</a></li><li><a href=#performance-monitoring-strategy>Performance Monitoring Strategy</a></li></ol></li><li><a href=#real-production-example-before-vs-after-optimization>Real Production Example: Before vs After Optimization</a><ol><li><a href=#before-optimization>Before Optimization:</a></li><li><a href=#after-optimization>After Optimization:</a></li></ol></li><li><a href=#frequently-asked-questions>Frequently Asked Questions</a><ol><li><a href=#when-should-i-not-use-usememo-or-usecallback>When should I NOT use useMemo or useCallback?</a></li><li><a href=#how-do-i-know-if-my-memoization-is-actually-helping>How do I know if my memoization is actually helping?</a></li><li><a href=#can-i-use-usememo-and-usecallback-together>Can I use useMemo and useCallback together?</a></li><li><a href=#what-about-dependencies-that-are-objects-or-arrays>What about dependencies that are objects or arrays?</a></li><li><a href=#is-it-bad-to-have-many-usememo-and-usecallback-hooks>Is it bad to have many useMemo and useCallback hooks?</a></li></ol></li><li><a href=#key-takeaways>Key Takeaways</a></li><li><a href=#whats-next>What&rsquo;s Next?</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/code-en/2025-06-13-usememo-usecallback/><img src=https://media.githubusercontent.com/media/ctrlcccv/ctrlcccv.github.io/master/assets/img/post/2025-06-10-usememo-usecallback.webp loading=lazy alt="Featured image of post React useMemo vs useCallback: 5 Key Differences Every Developer Must Know
"></a></div><div class=article-details><header class=article-category><a href=/categories/react/>React</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/code-en/2025-06-13-usememo-usecallback/>React useMemo vs useCallback: 5 Key Differences Every Developer Must Know</a></h2><h3 class=article-subtitle>Master React performance optimization with our complete guide to useMemo vs useCallback differences. Learn when to use each hook with real-world examples and avoid common pitfalls.</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published datetime=2025-06-13T00:00:00Z>6월 13, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>13 분 정도</time></div></footer></div></header><section class=article-content><p>When you&rsquo;re optimizing React performance, you often run into confusion between <code>useMemo</code> and <code>useCallback</code> hooks, right? I&rsquo;ve seen countless developers (myself included) struggle with when to use which hook, often ending up with over-optimized code that actually hurts performance.</p><p>I remember working on a large e-commerce dashboard where my team was experiencing severe performance issues. We threw <code>useMemo</code> and <code>useCallback</code> everywhere, thinking more memoization equals better performance. But then I had a breakthrough when I realized these hooks serve completely different purposes and have distinct use cases.</p><p>In this article, I&rsquo;ll walk you through exactly when and how to use <code>useMemo</code> vs <code>useCallback</code>, backed by real-world examples from production applications I&rsquo;ve worked on.</p><p>We&rsquo;ll cover everything from the fundamental differences to advanced optimization patterns, with practical code examples that you can apply immediately to your React projects.</p><br><p><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-8535540836842352 data-ad-slot=2974559225></ins></p><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><br><h2 id=what-is-the-difference-between-usememo-and-usecallback>What is the Difference Between useMemo and useCallback?</h2><blockquote><p><strong>useMemo vs useCallback: The Essential Difference</strong></p><p><code>useMemo</code> memoizes the <strong>result</strong> of a function call and returns the computed value, while <code>useCallback</code> memoizes the <strong>function itself</strong> and returns the same function reference. Think of <code>useMemo</code> as &ldquo;remember this calculation&rdquo; and <code>useCallback</code> as &ldquo;remember this function.&rdquo;</p></blockquote><br><h2 id=the-5-core-differences-between-usememo-and-usecallback>The 5 Core Differences Between useMemo and useCallback</h2><p>Understanding these hooks becomes crystal clear when you break down their fundamental differences:</p><br><h3 id=1-what-they-actually-memoize>1. What They Actually Memoize</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// useMemo: Memoizes the RESULT of executing a function
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>expensiveValue</span> <span class=o>=</span> <span class=nx>useMemo</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>heavyCalculation</span><span class=p>(</span><span class=nx>data</span><span class=p>);</span> <span class=c1>// This function RUNS and returns a value
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>},</span> <span class=p>[</span><span class=nx>data</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// useCallback: Memoizes the FUNCTION REFERENCE itself
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>memoizedCallback</span> <span class=o>=</span> <span class=nx>useCallback</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>heavyCalculation</span><span class=p>(</span><span class=nx>data</span><span class=p>);</span> <span class=c1>// This function is NOT executed
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>},</span> <span class=p>[</span><span class=nx>data</span><span class=p>]);</span>
</span></span></code></pre></td></tr></table></div></div><p>In my experience working on data-heavy dashboards, this distinction is crucial. <code>useMemo</code> actually executes your function during render and stores the result, while <code>useCallback</code> just stores the function definition for later use.</p><br><h3 id=2-when-the-computation-happens>2. When the Computation Happens</h3><div class=table-wrapper><table><thead><tr><th>Hook</th><th>Execution Time</th><th>Purpose</th></tr></thead><tbody><tr><td><code>useMemo</code></td><td><strong>During render</strong> (if dependencies changed)</td><td>Avoid expensive recalculations</td></tr><tr><td><code>useCallback</code></td><td><strong>When the function is called</strong></td><td>Prevent unnecessary re-renders of child components</td></tr></tbody></table></div><br><h3 id=3-return-value-behavior>3. Return Value Behavior</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>DataProcessor</span><span class=p>({</span> <span class=nx>rawData</span> <span class=p>})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// useMemo returns the processed result directly
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>processedData</span> <span class=o>=</span> <span class=nx>useMemo</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Processing data...&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>rawData</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=nx>item</span> <span class=p>=&gt;</span> <span class=p>({</span> <span class=p>...</span><span class=nx>item</span><span class=p>,</span> <span class=nx>processed</span><span class=o>:</span> <span class=kc>true</span> <span class=p>}));</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=p>[</span><span class=nx>rawData</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// useCallback returns a function that you need to call
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>processData</span> <span class=o>=</span> <span class=nx>useCallback</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Processing data...&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>rawData</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=nx>item</span> <span class=p>=&gt;</span> <span class=p>({</span> <span class=p>...</span><span class=nx>item</span><span class=p>,</span> <span class=nx>processed</span><span class=o>:</span> <span class=kc>true</span> <span class=p>}));</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=p>[</span><span class=nx>rawData</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nx>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span><span class=cm>/* Direct usage - data is already processed */</span><span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=nx>div</span><span class=o>&gt;</span><span class=nx>Items</span> <span class=nx>count</span><span class=o>:</span> <span class=p>{</span><span class=nx>processedData</span><span class=p>.</span><span class=nx>length</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/div&gt;</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      <span class=p>{</span><span class=cm>/* Function call required - data gets processed when called */</span><span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=nx>button</span> <span class=nx>onClick</span><span class=o>=</span><span class=p>{()</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>processData</span><span class=p>().</span><span class=nx>length</span><span class=p>)}</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nx>Get</span> <span class=nx>Count</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=err>/button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=err>/div&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><br><h3 id=4-memory-and-performance-impact>4. Memory and Performance Impact</h3><p>From my production monitoring experience, here&rsquo;s what I&rsquo;ve observed:</p><p><strong>useMemo Performance Characteristics:</strong></p><ul><li>Memory: Stores the actual computed result</li><li>CPU: Computation happens during render (blocking)</li><li>Best for: Heavy calculations that change infrequently</li></ul><p><strong>useCallback Performance Characteristics:</strong></p><ul><li>Memory: Stores only the function reference</li><li>CPU: No computation during render</li><li>Best for: Preventing child component re-renders</li></ul><br><h3 id=5-real-world-use-case-patterns>5. Real-World Use Case Patterns</h3><h4 id=-common-mistakes-i-used-to-make>❌ Common Mistakes I Used to Make:</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Overusing useMemo for simple operations
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>simpleSum</span> <span class=o>=</span> <span class=nx>useMemo</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>,</span> <span class=p>[</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>]);</span> <span class=c1>// Unnecessary overhead!
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Using useCallback without React.memo
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>handleClick</span> <span class=o>=</span> <span class=nx>useCallback</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>setCount</span><span class=p>(</span><span class=nx>count</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=p>[</span><span class=nx>count</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=c1>// If the child isn&#39;t memoized, this does nothing useful
</span></span></span></code></pre></td></tr></table></div></div><br><h4 id=-how-i-use-them-now>✅ How I Use Them Now:</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// useMemo for expensive operations
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>filteredAndSortedProducts</span> <span class=o>=</span> <span class=nx>useMemo</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>products</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=nx>p</span> <span class=p>=&gt;</span> <span class=nx>p</span><span class=p>.</span><span class=nx>category</span> <span class=o>===</span> <span class=nx>selectedCategory</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>sort</span><span class=p>((</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>a</span><span class=p>.</span><span class=nx>price</span> <span class=o>-</span> <span class=nx>b</span><span class=p>.</span><span class=nx>price</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=p>[</span><span class=nx>products</span><span class=p>,</span> <span class=nx>selectedCategory</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// useCallback for event handlers passed to memoized children
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>handleProductClick</span> <span class=o>=</span> <span class=nx>useCallback</span><span class=p>((</span><span class=nx>productId</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>navigate</span><span class=p>(</span><span class=sb>`/product/</span><span class=si>${</span><span class=nx>productId</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=p>[</span><span class=nx>navigate</span><span class=p>]);</span>
</span></span></code></pre></td></tr></table></div></div><br><p><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-8535540836842352 data-ad-slot=2974559225></ins></p><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><br><h2 id=when-to-use-usememo-step-by-step-decision-guide>When to Use useMemo: Step-by-Step Decision Guide</h2><p>Based on my experience optimizing React applications, here&rsquo;s exactly when you should reach for <code>useMemo</code>:</p><br><h3 id=1-identify-expensive-calculations>1. Identify Expensive Calculations</h3><p>Look for operations that involve:</p><ul><li>Large data transformations (filtering, sorting, mapping)</li><li>Complex mathematical computations</li><li>String manipulations on large datasets</li><li>Object/array creation with expensive logic</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Real example from an analytics dashboard I worked on
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>SalesReport</span><span class=p>({</span> <span class=nx>salesData</span><span class=p>,</span> <span class=nx>dateRange</span><span class=p>,</span> <span class=nx>filters</span> <span class=p>})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>reportData</span> <span class=o>=</span> <span class=nx>useMemo</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>time</span><span class=p>(</span><span class=s1>&#39;Report calculation&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>filtered</span> <span class=o>=</span> <span class=nx>salesData</span><span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=nx>sale</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kr>const</span> <span class=nx>saleDate</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=nx>sale</span><span class=p>.</span><span class=nx>date</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>saleDate</span> <span class=o>&gt;=</span> <span class=nx>dateRange</span><span class=p>.</span><span class=nx>start</span> <span class=o>&amp;&amp;</span> 
</span></span><span class=line><span class=cl>             <span class=nx>saleDate</span> <span class=o>&lt;=</span> <span class=nx>dateRange</span><span class=p>.</span><span class=nx>end</span> <span class=o>&amp;&amp;</span>
</span></span><span class=line><span class=cl>             <span class=nx>sale</span><span class=p>.</span><span class=nx>region</span> <span class=o>===</span> <span class=nx>filters</span><span class=p>.</span><span class=nx>region</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>grouped</span> <span class=o>=</span> <span class=nx>filtered</span><span class=p>.</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>acc</span><span class=p>,</span> <span class=nx>sale</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kr>const</span> <span class=nx>month</span> <span class=o>=</span> <span class=nx>sale</span><span class=p>.</span><span class=nx>date</span><span class=p>.</span><span class=nx>substring</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>7</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>acc</span><span class=p>[</span><span class=nx>month</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=nx>acc</span><span class=p>[</span><span class=nx>month</span><span class=p>]</span> <span class=o>||</span> <span class=mi>0</span><span class=p>)</span> <span class=o>+</span> <span class=nx>sale</span><span class=p>.</span><span class=nx>amount</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>acc</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=p>{});</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>timeEnd</span><span class=p>(</span><span class=s1>&#39;Report calculation&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>entries</span><span class=p>(</span><span class=nx>grouped</span><span class=p>).</span><span class=nx>map</span><span class=p>(([</span><span class=nx>month</span><span class=p>,</span> <span class=nx>total</span><span class=p>])</span> <span class=p>=&gt;</span> <span class=p>({</span> <span class=nx>month</span><span class=p>,</span> <span class=nx>total</span> <span class=p>}));</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=p>[</span><span class=nx>salesData</span><span class=p>,</span> <span class=nx>dateRange</span><span class=p>,</span> <span class=nx>filters</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=o>&lt;</span><span class=nx>ReportChart</span> <span class=nx>data</span><span class=o>=</span><span class=p>{</span><span class=nx>reportData</span><span class=p>}</span> <span class=o>/&gt;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><br><h3 id=2-measure-before-optimizing>2. Measure Before Optimizing</h3><p>I always use React DevTools Profiler to measure actual performance impact:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Before optimization - measure this first!
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>ProductList</span><span class=p>({</span> <span class=nx>products</span><span class=p>,</span> <span class=nx>searchTerm</span> <span class=p>})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>filteredProducts</span> <span class=o>=</span> <span class=nx>products</span><span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=nx>product</span> <span class=p>=&gt;</span> 
</span></span><span class=line><span class=cl>    <span class=nx>product</span><span class=p>.</span><span class=nx>name</span><span class=p>.</span><span class=nx>toLowerCase</span><span class=p>().</span><span class=nx>includes</span><span class=p>(</span><span class=nx>searchTerm</span><span class=p>.</span><span class=nx>toLowerCase</span><span class=p>())</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nx>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span><span class=nx>filteredProducts</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=nx>product</span> <span class=p>=&gt;</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=o>&lt;</span><span class=nx>ProductCard</span> <span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>product</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span> <span class=nx>product</span><span class=o>=</span><span class=p>{</span><span class=nx>product</span><span class=p>}</span> <span class=o>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>))}</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=err>/div&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><br><h3 id=3-apply-usememo-only-when-beneficial>3. Apply useMemo Only When Beneficial</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// After measuring - optimize only if there&#39;s a real performance issue
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>ProductList</span><span class=p>({</span> <span class=nx>products</span><span class=p>,</span> <span class=nx>searchTerm</span> <span class=p>})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>filteredProducts</span> <span class=o>=</span> <span class=nx>useMemo</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>products</span><span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=nx>product</span> <span class=p>=&gt;</span> 
</span></span><span class=line><span class=cl>      <span class=nx>product</span><span class=p>.</span><span class=nx>name</span><span class=p>.</span><span class=nx>toLowerCase</span><span class=p>().</span><span class=nx>includes</span><span class=p>(</span><span class=nx>searchTerm</span><span class=p>.</span><span class=nx>toLowerCase</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=p>[</span><span class=nx>products</span><span class=p>,</span> <span class=nx>searchTerm</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nx>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span><span class=nx>filteredProducts</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=nx>product</span> <span class=p>=&gt;</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=o>&lt;</span><span class=nx>ProductCard</span> <span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>product</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span> <span class=nx>product</span><span class=o>=</span><span class=p>{</span><span class=nx>product</span><span class=p>}</span> <span class=o>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>))}</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=err>/div&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><br><h2 id=when-to-use-usecallback-the-complete-strategy>When to Use useCallback: The Complete Strategy</h2><h3 id=1-child-component-optimization-pattern>1. Child Component Optimization Pattern</h3><p>This is the most common and effective use case I encounter:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Parent component
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>TodoApp</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=p>[</span><span class=nx>todos</span><span class=p>,</span> <span class=nx>setTodos</span><span class=p>]</span> <span class=o>=</span> <span class=nx>useState</span><span class=p>([]);</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=p>[</span><span class=nx>filter</span><span class=p>,</span> <span class=nx>setFilter</span><span class=p>]</span> <span class=o>=</span> <span class=nx>useState</span><span class=p>(</span><span class=s1>&#39;all&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Without useCallback, this function gets recreated on every render
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// causing TodoItem components to re-render unnecessarily
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>handleToggleTodo</span> <span class=o>=</span> <span class=nx>useCallback</span><span class=p>((</span><span class=nx>id</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>setTodos</span><span class=p>(</span><span class=nx>prev</span> <span class=p>=&gt;</span> <span class=nx>prev</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=nx>todo</span> <span class=p>=&gt;</span> 
</span></span><span class=line><span class=cl>      <span class=nx>todo</span><span class=p>.</span><span class=nx>id</span> <span class=o>===</span> <span class=nx>id</span> <span class=o>?</span> <span class=p>{</span> <span class=p>...</span><span class=nx>todo</span><span class=p>,</span> <span class=nx>completed</span><span class=o>:</span> <span class=o>!</span><span class=nx>todo</span><span class=p>.</span><span class=nx>completed</span> <span class=p>}</span> <span class=o>:</span> <span class=nx>todo</span>
</span></span><span class=line><span class=cl>    <span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=p>[]);</span> <span class=c1>// Empty dependency array because we use functional update
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>handleDeleteTodo</span> <span class=o>=</span> <span class=nx>useCallback</span><span class=p>((</span><span class=nx>id</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>setTodos</span><span class=p>(</span><span class=nx>prev</span> <span class=p>=&gt;</span> <span class=nx>prev</span><span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=nx>todo</span> <span class=p>=&gt;</span> <span class=nx>todo</span><span class=p>.</span><span class=nx>id</span> <span class=o>!==</span> <span class=nx>id</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=p>[]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nx>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span><span class=nx>todos</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=nx>todo</span> <span class=p>=&gt;</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=o>&lt;</span><span class=nx>TodoItem</span> 
</span></span><span class=line><span class=cl>          <span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>todo</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span> 
</span></span><span class=line><span class=cl>          <span class=nx>todo</span><span class=o>=</span><span class=p>{</span><span class=nx>todo</span><span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=nx>onToggle</span><span class=o>=</span><span class=p>{</span><span class=nx>handleToggleTodo</span><span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=nx>onDelete</span><span class=o>=</span><span class=p>{</span><span class=nx>handleDeleteTodo</span><span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=o>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>))}</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=err>/div&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Child component (optimized with React.memo)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>TodoItem</span> <span class=o>=</span> <span class=nx>React</span><span class=p>.</span><span class=nx>memo</span><span class=p>(({</span> <span class=nx>todo</span><span class=p>,</span> <span class=nx>onToggle</span><span class=p>,</span> <span class=nx>onDelete</span> <span class=p>})</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Rendering todo: </span><span class=si>${</span><span class=nx>todo</span><span class=p>.</span><span class=nx>id</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nx>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=nx>span</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>todo</span><span class=p>.</span><span class=nx>text</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/span&gt;</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=nx>button</span> <span class=nx>onClick</span><span class=o>=</span><span class=p>{()</span> <span class=p>=&gt;</span> <span class=nx>onToggle</span><span class=p>(</span><span class=nx>todo</span><span class=p>.</span><span class=nx>id</span><span class=p>)}</span><span class=o>&gt;</span><span class=nx>Toggle</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=nx>button</span> <span class=nx>onClick</span><span class=o>=</span><span class=p>{()</span> <span class=p>=&gt;</span> <span class=nx>onDelete</span><span class=p>(</span><span class=nx>todo</span><span class=p>.</span><span class=nx>id</span><span class=p>)}</span><span class=o>&gt;</span><span class=nx>Delete</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=err>/div&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><br><h3 id=2-useeffect-dependency-optimization>2. useEffect Dependency Optimization</h3><p>I learned this pattern the hard way when dealing with infinite re-render loops:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>UserProfile</span><span class=p>({</span> <span class=nx>userId</span> <span class=p>})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=p>[</span><span class=nx>user</span><span class=p>,</span> <span class=nx>setUser</span><span class=p>]</span> <span class=o>=</span> <span class=nx>useState</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=p>[</span><span class=nx>loading</span><span class=p>,</span> <span class=nx>setLoading</span><span class=p>]</span> <span class=o>=</span> <span class=nx>useState</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// This function is used in useEffect, so it needs to be memoized
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>fetchUserData</span> <span class=o>=</span> <span class=nx>useCallback</span><span class=p>(</span><span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>setLoading</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kr>const</span> <span class=nx>response</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>api</span><span class=p>.</span><span class=nx>getUser</span><span class=p>(</span><span class=nx>userId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>setUser</span><span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;Failed to fetch user:&#39;</span><span class=p>,</span> <span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>finally</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>setLoading</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=p>[</span><span class=nx>userId</span><span class=p>]);</span> <span class=c1>// Only recreate when userId changes
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=nx>useEffect</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fetchUserData</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=p>[</span><span class=nx>fetchUserData</span><span class=p>]);</span> <span class=c1>// This won&#39;t cause infinite loops now
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>loading</span> <span class=o>?</span> <span class=o>&lt;</span><span class=nx>Spinner</span> <span class=o>/&gt;</span> <span class=o>:</span> <span class=o>&lt;</span><span class=nx>UserDetails</span> <span class=nx>user</span><span class=o>=</span><span class=p>{</span><span class=nx>user</span><span class=p>}</span> <span class=o>/&gt;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><br><h3 id=3-custom-hook-optimization>3. Custom Hook Optimization</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Custom hook that returns stable function references
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>useApiActions</span><span class=p>(</span><span class=nx>baseUrl</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>get</span> <span class=o>=</span> <span class=nx>useCallback</span><span class=p>(</span><span class=kr>async</span> <span class=p>(</span><span class=nx>endpoint</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>response</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>fetch</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=nx>baseUrl</span><span class=si>}${</span><span class=nx>endpoint</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>response</span><span class=p>.</span><span class=nx>json</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=p>[</span><span class=nx>baseUrl</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>post</span> <span class=o>=</span> <span class=nx>useCallback</span><span class=p>(</span><span class=kr>async</span> <span class=p>(</span><span class=nx>endpoint</span><span class=p>,</span> <span class=nx>data</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>response</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>fetch</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=nx>baseUrl</span><span class=si>}${</span><span class=nx>endpoint</span><span class=si>}</span><span class=sb>`</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>method</span><span class=o>:</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>headers</span><span class=o>:</span> <span class=p>{</span> <span class=s1>&#39;Content-Type&#39;</span><span class=o>:</span> <span class=s1>&#39;application/json&#39;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nx>body</span><span class=o>:</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>response</span><span class=p>.</span><span class=nx>json</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=p>[</span><span class=nx>baseUrl</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>{</span> <span class=nx>get</span><span class=p>,</span> <span class=nx>post</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><br><h2 id=advanced-optimization-patterns-and-gotchas>Advanced Optimization Patterns and Gotchas</h2><h3 id=dependency-array-management>Dependency Array Management</h3><p>The biggest mistake I see (and used to make) is incorrect dependency arrays:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// ❌ Incorrect: Missing dependencies
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>SearchResults</span><span class=p>({</span> <span class=nx>query</span><span class=p>,</span> <span class=nx>filters</span> <span class=p>})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>searchResults</span> <span class=o>=</span> <span class=nx>useMemo</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>performSearch</span><span class=p>(</span><span class=nx>query</span><span class=p>,</span> <span class=nx>filters</span><span class=p>,</span> <span class=nx>sortBy</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Missing &#39;sortBy&#39; in dependencies - potential bug!
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>},</span> <span class=p>[</span><span class=nx>query</span><span class=p>,</span> <span class=nx>filters</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ✅ Correct: All dependencies included
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>SearchResults</span><span class=p>({</span> <span class=nx>query</span><span class=p>,</span> <span class=nx>filters</span><span class=p>,</span> <span class=nx>sortBy</span> <span class=p>})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>searchResults</span> <span class=o>=</span> <span class=nx>useMemo</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>performSearch</span><span class=p>(</span><span class=nx>query</span><span class=p>,</span> <span class=nx>filters</span><span class=p>,</span> <span class=nx>sortBy</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=p>[</span><span class=nx>query</span><span class=p>,</span> <span class=nx>filters</span><span class=p>,</span> <span class=nx>sortBy</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><br><h3 id=object-and-array-dependencies>Object and Array Dependencies</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// ❌ Problematic: Object created on every render
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>DataVisualizer</span><span class=p>({</span> <span class=nx>rawData</span> <span class=p>})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>options</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>theme</span><span class=o>:</span> <span class=s1>&#39;dark&#39;</span><span class=p>,</span> <span class=nx>animated</span><span class=o>:</span> <span class=kc>true</span> <span class=p>};</span> <span class=c1>// New object every render!
</span></span></span><span class=line><span class=cl><span class=c1></span>  
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>processedData</span> <span class=o>=</span> <span class=nx>useMemo</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>processData</span><span class=p>(</span><span class=nx>rawData</span><span class=p>,</span> <span class=nx>options</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=p>[</span><span class=nx>rawData</span><span class=p>,</span> <span class=nx>options</span><span class=p>]);</span> <span class=c1>// This will run on every render
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ✅ Better: Memoize the options object
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>DataVisualizer</span><span class=p>({</span> <span class=nx>rawData</span><span class=p>,</span> <span class=nx>theme</span> <span class=p>})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>options</span> <span class=o>=</span> <span class=nx>useMemo</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>theme</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>animated</span><span class=o>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>  <span class=p>}),</span> <span class=p>[</span><span class=nx>theme</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>processedData</span> <span class=o>=</span> <span class=nx>useMemo</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>processData</span><span class=p>(</span><span class=nx>rawData</span><span class=p>,</span> <span class=nx>options</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=p>[</span><span class=nx>rawData</span><span class=p>,</span> <span class=nx>options</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><br><h3 id=performance-monitoring-strategy>Performance Monitoring Strategy</h3><p>I always use this approach to validate my optimizations:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>ExpensiveComponent</span><span class=p>({</span> <span class=nx>data</span> <span class=p>})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Development-only performance monitoring
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>useEffect</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>process</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>NODE_ENV</span> <span class=o>===</span> <span class=s1>&#39;development&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>time</span><span class=p>(</span><span class=s1>&#39;ExpensiveComponent render&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>timeEnd</span><span class=p>(</span><span class=s1>&#39;ExpensiveComponent render&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>processedData</span> <span class=o>=</span> <span class=nx>useMemo</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>time</span><span class=p>(</span><span class=s1>&#39;Data processing&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>data</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=nx>item</span> <span class=p>=&gt;</span> <span class=nx>heavyTransformation</span><span class=p>(</span><span class=nx>item</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>timeEnd</span><span class=p>(</span><span class=s1>&#39;Data processing&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=p>[</span><span class=nx>data</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=o>&lt;</span><span class=nx>DataDisplay</span> <span class=nx>data</span><span class=o>=</span><span class=p>{</span><span class=nx>processedData</span><span class=p>}</span> <span class=o>/&gt;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><br><p><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-8535540836842352 data-ad-slot=2974559225></ins></p><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><br><h2 id=real-production-example-before-vs-after-optimization>Real Production Example: Before vs After Optimization</h2><p>Let me share a real example from an e-commerce project where proper memoization made a significant difference:</p><br><h3 id=before-optimization>Before Optimization:</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>ProductCatalog</span><span class=p>({</span> <span class=nx>products</span><span class=p>,</span> <span class=nx>category</span><span class=p>,</span> <span class=nx>sortBy</span><span class=p>,</span> <span class=nx>priceRange</span> <span class=p>})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// This expensive operation runs on EVERY render
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>displayProducts</span> <span class=o>=</span> <span class=nx>products</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=nx>p</span> <span class=p>=&gt;</span> <span class=nx>p</span><span class=p>.</span><span class=nx>category</span> <span class=o>===</span> <span class=nx>category</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=nx>p</span> <span class=p>=&gt;</span> <span class=nx>p</span><span class=p>.</span><span class=nx>price</span> <span class=o>&gt;=</span> <span class=nx>priceRange</span><span class=p>.</span><span class=nx>min</span> <span class=o>&amp;&amp;</span> <span class=nx>p</span><span class=p>.</span><span class=nx>price</span> <span class=o>&lt;=</span> <span class=nx>priceRange</span><span class=p>.</span><span class=nx>max</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>sort</span><span class=p>((</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>sortBy</span> <span class=o>===</span> <span class=s1>&#39;price&#39;</span><span class=p>)</span> <span class=k>return</span> <span class=nx>a</span><span class=p>.</span><span class=nx>price</span> <span class=o>-</span> <span class=nx>b</span><span class=p>.</span><span class=nx>price</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>sortBy</span> <span class=o>===</span> <span class=s1>&#39;name&#39;</span><span class=p>)</span> <span class=k>return</span> <span class=nx>a</span><span class=p>.</span><span class=nx>name</span><span class=p>.</span><span class=nx>localeCompare</span><span class=p>(</span><span class=nx>b</span><span class=p>.</span><span class=nx>name</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// New function created on every render
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>handleProductClick</span> <span class=o>=</span> <span class=p>(</span><span class=nx>productId</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>analytics</span><span class=p>.</span><span class=nx>track</span><span class=p>(</span><span class=s1>&#39;product_viewed&#39;</span><span class=p>,</span> <span class=p>{</span> <span class=nx>productId</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=nx>navigate</span><span class=p>(</span><span class=sb>`/product/</span><span class=si>${</span><span class=nx>productId</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nx>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span><span class=nx>displayProducts</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=nx>product</span> <span class=p>=&gt;</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=o>&lt;</span><span class=nx>ProductCard</span>
</span></span><span class=line><span class=cl>          <span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>product</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=nx>product</span><span class=o>=</span><span class=p>{</span><span class=nx>product</span><span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=nx>onClick</span><span class=o>=</span><span class=p>{</span><span class=nx>handleProductClick</span><span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=o>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>))}</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=err>/div&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Performance Issues Observed:</strong></p><ul><li>2,000 products took 180ms to filter and sort on each render</li><li>Child components re-rendered unnecessarily</li><li>User interactions felt sluggish</li></ul><br><h3 id=after-optimization>After Optimization:</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>ProductCatalog</span><span class=p>({</span> <span class=nx>products</span><span class=p>,</span> <span class=nx>category</span><span class=p>,</span> <span class=nx>sortBy</span><span class=p>,</span> <span class=nx>priceRange</span> <span class=p>})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Expensive operation only runs when dependencies change
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>displayProducts</span> <span class=o>=</span> <span class=nx>useMemo</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Filtering and sorting products...&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>products</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=nx>p</span> <span class=p>=&gt;</span> <span class=nx>p</span><span class=p>.</span><span class=nx>category</span> <span class=o>===</span> <span class=nx>category</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=nx>p</span> <span class=p>=&gt;</span> <span class=nx>p</span><span class=p>.</span><span class=nx>price</span> <span class=o>&gt;=</span> <span class=nx>priceRange</span><span class=p>.</span><span class=nx>min</span> <span class=o>&amp;&amp;</span> <span class=nx>p</span><span class=p>.</span><span class=nx>price</span> <span class=o>&lt;=</span> <span class=nx>priceRange</span><span class=p>.</span><span class=nx>max</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>sort</span><span class=p>((</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>sortBy</span> <span class=o>===</span> <span class=s1>&#39;price&#39;</span><span class=p>)</span> <span class=k>return</span> <span class=nx>a</span><span class=p>.</span><span class=nx>price</span> <span class=o>-</span> <span class=nx>b</span><span class=p>.</span><span class=nx>price</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>sortBy</span> <span class=o>===</span> <span class=s1>&#39;name&#39;</span><span class=p>)</span> <span class=k>return</span> <span class=nx>a</span><span class=p>.</span><span class=nx>name</span><span class=p>.</span><span class=nx>localeCompare</span><span class=p>(</span><span class=nx>b</span><span class=p>.</span><span class=nx>name</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=p>[</span><span class=nx>products</span><span class=p>,</span> <span class=nx>category</span><span class=p>,</span> <span class=nx>sortBy</span><span class=p>,</span> <span class=nx>priceRange</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Function reference stays stable across renders
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>handleProductClick</span> <span class=o>=</span> <span class=nx>useCallback</span><span class=p>((</span><span class=nx>productId</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>analytics</span><span class=p>.</span><span class=nx>track</span><span class=p>(</span><span class=s1>&#39;product_viewed&#39;</span><span class=p>,</span> <span class=p>{</span> <span class=nx>productId</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=nx>navigate</span><span class=p>(</span><span class=sb>`/product/</span><span class=si>${</span><span class=nx>productId</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=p>[</span><span class=nx>navigate</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nx>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span><span class=nx>displayProducts</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=nx>product</span> <span class=p>=&gt;</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=o>&lt;</span><span class=nx>ProductCard</span>
</span></span><span class=line><span class=cl>          <span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>product</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=nx>product</span><span class=o>=</span><span class=p>{</span><span class=nx>product</span><span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=nx>onClick</span><span class=o>=</span><span class=p>{</span><span class=nx>handleProductClick</span><span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=o>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>))}</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=err>/div&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Don&#39;t forget to memoize the child component!
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>ProductCard</span> <span class=o>=</span> <span class=nx>React</span><span class=p>.</span><span class=nx>memo</span><span class=p>(({</span> <span class=nx>product</span><span class=p>,</span> <span class=nx>onClick</span> <span class=p>})</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nx>div</span> <span class=nx>onClick</span><span class=o>=</span><span class=p>{()</span> <span class=p>=&gt;</span> <span class=nx>onClick</span><span class=p>(</span><span class=nx>product</span><span class=p>.</span><span class=nx>id</span><span class=p>)}</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=nx>h3</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>product</span><span class=p>.</span><span class=nx>name</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h3&gt;</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=nx>p</span><span class=o>&gt;</span><span class=nx>$</span><span class=p>{</span><span class=nx>product</span><span class=p>.</span><span class=nx>price</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/p&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=err>/div&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Performance Improvements:</strong></p><ul><li>Initial render: 180ms → 180ms (same)</li><li>Subsequent renders with unchanged filters: 180ms → 2ms (90x faster!)</li><li>Child component re-renders: Eliminated unnecessary renders</li></ul><br><h2 id=frequently-asked-questions>Frequently Asked Questions</h2><h3 id=when-should-i-not-use-usememo-or-usecallback>When should I NOT use useMemo or useCallback?</h3><p>Don&rsquo;t use these hooks for simple operations. I learned this lesson when I over-optimized a component and actually made it slower:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// ❌ Don&#39;t do this - the memoization overhead is worse than the operation
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>sum</span> <span class=o>=</span> <span class=nx>useMemo</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>,</span> <span class=p>[</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>handleClick</span> <span class=o>=</span> <span class=nx>useCallback</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nx>setCount</span><span class=p>(</span><span class=nx>c</span> <span class=p>=&gt;</span> <span class=nx>c</span> <span class=o>+</span> <span class=mi>1</span><span class=p>),</span> <span class=p>[]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ✅ Just do this instead
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>sum</span> <span class=o>=</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>handleClick</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=nx>setCount</span><span class=p>(</span><span class=nx>c</span> <span class=p>=&gt;</span> <span class=nx>c</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><p>The rule of thumb: If your operation takes less than 1ms and happens rarely, skip the memoization.</p><br><h3 id=how-do-i-know-if-my-memoization-is-actually-helping>How do I know if my memoization is actually helping?</h3><p>Use React DevTools Profiler! I always measure before and after:</p><ol><li>Record a profiling session with your component</li><li>Look for components that render frequently with the same props</li><li>Apply memoization</li><li>Record another session and compare</li></ol><p>If you don&rsquo;t see a meaningful improvement (at least 10-20% render time reduction), remove the memoization.</p><br><h3 id=can-i-use-usememo-and-usecallback-together>Can I use useMemo and useCallback together?</h3><p>Absolutely! I often combine them in complex components:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>ComplexDashboard</span><span class=p>({</span> <span class=nx>rawData</span><span class=p>,</span> <span class=nx>filters</span> <span class=p>})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// useMemo for expensive data processing
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>processedData</span> <span class=o>=</span> <span class=nx>useMemo</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>processChartData</span><span class=p>(</span><span class=nx>rawData</span><span class=p>,</span> <span class=nx>filters</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=p>[</span><span class=nx>rawData</span><span class=p>,</span> <span class=nx>filters</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// useCallback for event handlers
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>handleChartInteraction</span> <span class=o>=</span> <span class=nx>useCallback</span><span class=p>((</span><span class=nx>dataPoint</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>setSelectedPoint</span><span class=p>(</span><span class=nx>dataPoint</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>analytics</span><span class=p>.</span><span class=nx>track</span><span class=p>(</span><span class=s1>&#39;chart_interaction&#39;</span><span class=p>,</span> <span class=p>{</span> <span class=nx>dataPoint</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=p>[</span><span class=nx>setSelectedPoint</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nx>Chart</span> 
</span></span><span class=line><span class=cl>      <span class=nx>data</span><span class=o>=</span><span class=p>{</span><span class=nx>processedData</span><span class=p>}</span> 
</span></span><span class=line><span class=cl>      <span class=nx>onInteraction</span><span class=o>=</span><span class=p>{</span><span class=nx>handleChartInteraction</span><span class=p>}</span> 
</span></span><span class=line><span class=cl>    <span class=o>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><br><h3 id=what-about-dependencies-that-are-objects-or-arrays>What about dependencies that are objects or arrays?</h3><p>This is tricky! Objects and arrays create new references on each render. Here&rsquo;s my approach:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// ❌ This will run on every render because filters is a new object
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>results</span> <span class=o>=</span> <span class=nx>useMemo</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>searchData</span><span class=p>(</span><span class=nx>query</span><span class=p>,</span> <span class=nx>filters</span><span class=p>);</span> <span class=c1>// filters = { category: &#39;books&#39;, inStock: true }
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>},</span> <span class=p>[</span><span class=nx>query</span><span class=p>,</span> <span class=nx>filters</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ✅ Either memoize the filters object
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>memoizedFilters</span> <span class=o>=</span> <span class=nx>useMemo</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nx>filters</span><span class=p>,</span> <span class=p>[</span><span class=nx>filters</span><span class=p>.</span><span class=nx>category</span><span class=p>,</span> <span class=nx>filters</span><span class=p>.</span><span class=nx>inStock</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>results</span> <span class=o>=</span> <span class=nx>useMemo</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>searchData</span><span class=p>(</span><span class=nx>query</span><span class=p>,</span> <span class=nx>memoizedFilters</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=p>[</span><span class=nx>query</span><span class=p>,</span> <span class=nx>memoizedFilters</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ✅ Or destructure the properties you actually need
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>results</span> <span class=o>=</span> <span class=nx>useMemo</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>searchData</span><span class=p>(</span><span class=nx>query</span><span class=p>,</span> <span class=p>{</span> <span class=nx>category</span><span class=o>:</span> <span class=nx>filters</span><span class=p>.</span><span class=nx>category</span><span class=p>,</span> <span class=nx>inStock</span><span class=o>:</span> <span class=nx>filters</span><span class=p>.</span><span class=nx>inStock</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=p>[</span><span class=nx>query</span><span class=p>,</span> <span class=nx>filters</span><span class=p>.</span><span class=nx>category</span><span class=p>,</span> <span class=nx>filters</span><span class=p>.</span><span class=nx>inStock</span><span class=p>]);</span>
</span></span></code></pre></td></tr></table></div></div><br><h3 id=is-it-bad-to-have-many-usememo-and-usecallback-hooks>Is it bad to have many useMemo and useCallback hooks?</h3><p>Not necessarily, but it can be a code smell. If you have more than 3-4 memoization hooks in a single component, consider:</p><ol><li><strong>Splitting the component</strong> into smaller, focused components</li><li><strong>Moving expensive logic</strong> to custom hooks</li><li><strong>Using state management</strong> like Zustand or Redux for complex data flow</li></ol><br><h2 id=key-takeaways>Key Takeaways</h2><p>After years of working with React performance optimization, here are the most important points to remember:</p><ul><li><strong>useMemo</strong> caches computed values; <strong>useCallback</strong> caches function references</li><li><strong>Measure first</strong> - don&rsquo;t optimize without evidence of a performance problem</li><li><strong>useCallback is only useful</strong> when passing functions to memoized child components</li><li><strong>Dependencies matter</strong> - incorrect dependency arrays are the source of most memoization bugs</li><li><strong>Simple operations don&rsquo;t need memoization</strong> - the overhead can be worse than the operation itself</li></ul><br><h2 id=whats-next>What&rsquo;s Next?</h2><p>Now that you understand the differences between <code>useMemo</code> and <code>useCallback</code>, try applying these patterns to your own React applications. Start by identifying one component with performance issues and apply the appropriate memoization strategy.</p><p>In our next article, we&rsquo;ll dive deeper into advanced React performance patterns, including <code>React.memo</code>, virtualization, and code splitting strategies.</p><p>What are your experiences with React performance optimization? Have you encountered situations where memoization made a significant difference? Share your stories in the comments below!</p><br></section><footer class=article-footer><section class=article-tags><a href=/tags/react-hooks/>React Hooks</a>
<a href=/tags/performance-optimization/>Performance Optimization</a>
<a href=/tags/memoization/>Memoization</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>관련 글</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/code-en/2025-06-11-react-usecallback/><div class=article-image><img src=https://media.githubusercontent.com/media/ctrlcccv/ctrlcccv.github.io/master/assets/img/post/2025-06-11-react-usecallback-en.webp loading=lazy data-key=2025-06-11-react-usecallback data-hash=https://media.githubusercontent.com/media/ctrlcccv/ctrlcccv.github.io/master/assets/img/post/2025-06-11-react-usecallback-en.webp></div><div class=article-details><h2 class=article-title>Stop React Re-renders with useCallback Hook</h2></div></a></article><article class=has-image><a href=/code-en/2025-06-05-react-usememo/><div class=article-image><img src=https://media.githubusercontent.com/media/ctrlcccv/ctrlcccv.github.io/master/assets/img/post/2025-06-05-react-usememo-en.webp loading=lazy data-key=2025-06-05-react-usememo data-hash=https://media.githubusercontent.com/media/ctrlcccv/ctrlcccv.github.io/master/assets/img/post/2025-06-05-react-usememo-en.webp></div><div class=article-details><h2 class=article-title>React useMemo Tutorial: Optimize Render Performance</h2></div></a></article><article class=has-image><a href=/code/2025-06-10-usememo-usecallback/><div class=article-image><img src=https://media.githubusercontent.com/media/ctrlcccv/ctrlcccv.github.io/master/assets/img/post/2025-06-10-usememo-usecallback.webp loading=lazy data-key=2025-06-10-usememo-usecallback data-hash=https://media.githubusercontent.com/media/ctrlcccv/ctrlcccv.github.io/master/assets/img/post/2025-06-10-usememo-usecallback.webp></div><div class=article-details><h2 class=article-title>React useMemo vs useCallback 차이점 쉽게 이해하기</h2></div></a></article><article class=has-image><a href=/code/2025-06-06-react-usecallback/><div class=article-image><img src=https://media.githubusercontent.com/media/ctrlcccv/ctrlcccv.github.io/master/assets/img/post/2025-06-06-react-usecallback.webp loading=lazy data-key=2025-06-06-react-usecallback data-hash=https://media.githubusercontent.com/media/ctrlcccv/ctrlcccv.github.io/master/assets/img/post/2025-06-06-react-usecallback.webp></div><div class=article-details><h2 class=article-title>React useCallback으로 불필요한 리렌더링 방지하기</h2></div></a></article><article class=has-image><a href=/code/2025-06-04-react-usememo/><div class=article-image><img src=https://media.githubusercontent.com/media/ctrlcccv/ctrlcccv.github.io/master/assets/img/post/2025-06-04-react-usememo.webp loading=lazy data-key=2025-06-04-react-usememo data-hash=https://media.githubusercontent.com/media/ctrlcccv/ctrlcccv.github.io/master/assets/img/post/2025-06-04-react-usememo.webp></div><div class=article-details><h2 class=article-title>useMemo 활용한 React 객체 안정화 & 리렌더링 최적화 기법</h2></div></a></article></div></div></aside><script src=https://utteranc.es/client.js repo=ctrlcccv/ctrlcccv.github.io issue-term=url label=comment crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>let utterancesLoaded=!1;function setUtterancesTheme(e){let t=document.querySelector(".utterances iframe");t&&t.contentWindow.postMessage({type:"set-theme",theme:`github-${e}`},"https://utteranc.es")}addEventListener("message",e=>{if(e.origin!=="https://utteranc.es")return;utterancesLoaded=!0,setUtterancesTheme(document.documentElement.dataset.scheme)}),window.addEventListener("onColorSchemeChange",e=>{if(!utterancesLoaded)return;setUtterancesTheme(e.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2023 -
2025 컨트롤 + CCCV</section><section class=powerby><a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a>로 만듦<br><a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a>의 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> 테마 사용 중</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>